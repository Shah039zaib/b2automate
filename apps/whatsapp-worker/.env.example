# ============================================
# B2Automate WhatsApp Worker - Environment Variables
# ============================================

# ============================================
# REDIS CONFIGURATION
# ============================================
# Redis connection URL for BullMQ queues and session storage
REDIS_URL=redis://localhost:6379

# Redis password (if required)
REDIS_PASSWORD=

# Redis connection configuration (for standalone connections)
REDIS_HOST=redis
REDIS_PORT=6379

# ============================================
# WHATSAPP RATE LIMITING
# ============================================
# Per-customer rate limiting to prevent WhatsApp bans
# These limits apply per customer (JID) to prevent spam

# Maximum messages per customer in the time window
WHATSAPP_CUSTOMER_RATE_LIMIT=10

# Time window in seconds for customer rate limiting
WHATSAPP_CUSTOMER_RATE_WINDOW=60

# Example: Default setting allows 10 messages per customer per 60 seconds
# Adjust based on your use case and WhatsApp's acceptable usage

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info                         # Options: debug, info, warn, error

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=production

# ============================================
# NOTES
# ============================================
# - This worker processes WhatsApp messages via BullMQ queues
# - Redis MUST be accessible and configured with maxRetriesPerRequest=null
# - Auth state and QR codes are stored in Redis with TTL
# - Session files are stored in .wwebjs_auth/ directory (gitignored)
# - Anti-ban delays are automatically applied (human-like behavior)
# - Customer rate limits prevent sending too many messages to one customer
